"use strict";const body=document.querySelector(".body"),orderCallButton=document.querySelector("#order-call"),modal=document.querySelector(".modal"),modalForm=modal.querySelector("form"),modalInputName=document.querySelector(".modal__input-name"),modalInputPhone=document.querySelector(".modal__input-phone"),modalTextareaQuestion=document.querySelector(".modal__textarea"),modalClose=document.querySelector(".modal__close"),footerSections=document.querySelector(".footer__sections"),footerSectionsButton=footerSections.querySelector("button"),footerSectionsSvgPlus=footerSections.querySelector(".footer__sections-svg-plus"),footerSectionsSvgMinus=footerSections.querySelector(".footer__sections-svg-minus"),footerSectionsList=document.querySelector(".footer__sections-list"),footerOurOffice=document.querySelector(".footer__our-office"),footerOurOfficeButton=footerOurOffice.querySelector("button"),footerOurOfficeSvgPlus=footerOurOffice.querySelector(".footer__our-office-svg-plus"),footerOurOfficeSvgMinus=footerOurOffice.querySelector(".footer__our-office-svg-minus"),footerOurOfficeList=document.querySelector(".footer__our-office-list");orderCallButton.addEventListener("click",(e=>{e.preventDefault(),modal.classList.remove("modal--hide"),modalInputName.focus()})),modalClose.addEventListener("click",(()=>{modal.classList.add("modal--hide")})),document.addEventListener("keydown",(e=>{"ESC"!==e.key&&"Escape"!==e.key||modal.classList.add("modal--hide")})),modal.addEventListener("click",(e=>{e.target===modal&&modal.classList.add("modal--hide")}));const myLocalStorage=()=>{localStorage.setItem("name",modalInputName.value),localStorage.setItem("tel",modalInputPhone.value),localStorage.setItem("question",modalTextareaQuestion.value)},getDataToLocalStorage=()=>{modalInputName.addEventListener("input",myLocalStorage),modalInputPhone.addEventListener("input",myLocalStorage),modalTextareaQuestion.addEventListener("input",myLocalStorage),modalForm.addEventListener("submit",(e=>{e.preventDefault(),myLocalStorage(),modalInputName.value="",modalInputPhone.value="",modalTextareaQuestion.value="",modal.classList.add("modal--hide")}))};modalInputName.addEventListener("input",myLocalStorage),modalInputPhone.addEventListener("input",myLocalStorage),modalTextareaQuestion.addEventListener("input",myLocalStorage),modalForm.addEventListener("submit",(e=>{e.preventDefault(),myLocalStorage(),modalInputName.value="",modalInputPhone.value="",modalTextareaQuestion.value="",modal.classList.add("modal--hide")}));const handlerFooterSection=(e,t,o,i,s)=>{e.classList.contains(`footer__${t}-list--hide`)?(e.classList.remove(`footer__${t}-list--hide`),o.style.margin="0 0 32px",i.style.display="none",s.style.display="inherit"):(e.classList.add(`footer__${t}-list--hide`),o.style.margin="0",i.style.display="inherit",s.style.display="none")},handlerFooterContent=()=>{footerSectionsButton.addEventListener("click",(()=>{handlerFooterSection(footerSectionsList,"sections",footerSectionsButton,footerSectionsSvgPlus,footerSectionsSvgMinus),footerOurOfficeList.classList.contains("footer__our-office-list--hide")||(footerOurOfficeList.classList.add("footer__our-office-list--hide"),footerOurOfficeButton.style.margin="0",footerOurOfficeSvgPlus.style.display="inherit",footerOurOfficeSvgMinus.style.display="none")})),footerOurOfficeButton.addEventListener("click",(()=>{handlerFooterSection(footerOurOfficeList,"our-office",footerOurOfficeButton,footerOurOfficeSvgPlus,footerOurOfficeSvgMinus),footerSectionsList.classList.contains("footer__sections-list--hide")||(footerSectionsList.classList.add("footer__sections-list--hide"),footerSectionsButton.style.margin="0",footerSectionsSvgPlus.style.display="inherit",footerSectionsSvgMinus.style.display="none")}))};function maskPhone(e,t="+7 (___) ___-__-__"){const o=document.querySelectorAll(e);function i(e){const o=e.keyCode,i=t,s=i.replace(/\D/g,""),r=this.value.replace(/\D/g,"");let n=0,l=i.replace(/[_\d]/g,(e=>n<r.length?r.charAt(n++)||s.charAt(n):e));n=l.indexOf("_"),-1!==n&&(l=l.slice(0,n));let a=i.substr(0,this.value.length).replace(/_+/g,(e=>"\\d{1,"+e.length+"}")).replace(/[+()]/g,"\\$&");a=new RegExp("^"+a+"$"),(!a.test(this.value)||this.value.length<5||o>47&&o<58)&&(this.value=l),"blur"===e.type&&this.value.length<5&&(this.value="")}for(const e of o)e.addEventListener("input",i),e.addEventListener("focus",i),e.addEventListener("blur",i)}footerSectionsButton.addEventListener("click",(()=>{handlerFooterSection(footerSectionsList,"sections",footerSectionsButton,footerSectionsSvgPlus,footerSectionsSvgMinus),footerOurOfficeList.classList.contains("footer__our-office-list--hide")||(footerOurOfficeList.classList.add("footer__our-office-list--hide"),footerOurOfficeButton.style.margin="0",footerOurOfficeSvgPlus.style.display="inherit",footerOurOfficeSvgMinus.style.display="none")})),footerOurOfficeButton.addEventListener("click",(()=>{handlerFooterSection(footerOurOfficeList,"our-office",footerOurOfficeButton,footerOurOfficeSvgPlus,footerOurOfficeSvgMinus),footerSectionsList.classList.contains("footer__sections-list--hide")||(footerSectionsList.classList.add("footer__sections-list--hide"),footerSectionsButton.style.margin="0",footerSectionsSvgPlus.style.display="inherit",footerSectionsSvgMinus.style.display="none")})),maskPhone("input[type=tel]"),window.addEventListener("load",(()=>{window.innerWidth<770&&(footerSectionsList.classList.add("footer__sections-list--hide"),footerOurOfficeList.classList.add("footer__our-office-list--hide"),footerSectionsSvgPlus.style.display="inherit",footerSectionsSvgMinus.style.display="none",footerOurOfficeSvgPlus.style.display="inherit",footerOurOfficeSvgMinus.style.display="none",footerSectionsButton.style.margin="0")}));